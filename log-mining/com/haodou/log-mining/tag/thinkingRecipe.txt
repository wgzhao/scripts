1. 一个菜谱中的不同要素：
（1）用于装饰，如红烧肉中的田七草，胡萝卜花等。

（2）荤素搭配中的肉菜和素菜。

（3）调料。

(4)
一个菜谱的成品用于另一个菜谱的原料。一个是常见配料的制作。另一个本来是常见菜，但是可能剩菜了，怎么作为其他菜的配料呢。如红烧肉。

(5)形状，含大小的形状：如“1.5厘米见方的块”。对于不同的形状，描述大小的方式不同。“块”，才会有“数字+单位+‘见方’”。
对于圆或者球，才会有直径。
【统计一个模板中槽位之间的约束关系。】
【因为限定在同一个模板中的要素，要素的选择范围就十分有限。这个可以很大程度克服过拟合。因为模板通常是经过人工校验的。】

(6)食材需要“洗净”。

（7）炊具：用于对食材形状进行整理的炊具。如刀，模具。
用于对食材进行加热的炊具。如锅，烤箱。
对于食材进行加热的炊具，往往是容器。
一些对食材进行混合但是不是加热的炊具，也是容器，如碗，盆。
容器类炊具，才会有“放入”操作。放入操作涉及两个实体，一个是容器，一个是食材。

（8）煸炒是加热操作，是在容器中进行的。且容器中已经放入食材。
煸炒的另一个条件是火。
“小火煸炒至肥肉吐油，表面颜色微黄捞出。”

（9）火的一个重要属性是火势。大中小三种类型，每种类型在度上有不同表现。
结合上下文分析不同描述的火势程度。

（10）食材加工过程的变化。一个是物理变化，设计形状变化，还有混合。
一个是化学变化，通常是加热。混合本身会导致化学变化。
变化的外在表现：一个是分离。如“吐油”。
一个是固态或者液态或者气态转化。如“糖溶化”。
一个是颜色变化，如“表面颜色微黄”。
一个是形状变化，呈现出某种形状，物理加工或者加热都可以导致出现某种特定形状，“鱼眼泡状。”
形状变化也有多种：一个是整体分为多个部分，每个部分的形状。一个是表面受加热出现一些局部形态。
颜色属性通常是描述表面的。但是有时候也特意强调某一侧或者食材特定部分，或者食材内部。

（11）区分主动行为和被动行为。
上面的“捞出”是主动行为。
“吐油”是食材的被动行为。
主动行为就是加工。被动行为是指受加工的食材发生形态变化的过程描述。

这里是用加工产物的产生过程来说明食材状态的变化。

【分辨的标准是看主语，主语是人就是操作，主语是食材就是变化。】

(12)混合或者放入操作时，食材的量要标明。
“放入50克冰糖”

（13）连接加工与食材在加工过程中的变化的词语，表明两者之间的关联，经常用“至”。
“翻炒至肉表面上色”。

（14）放入或者混合操作也有多种。
“烹入黄酒”。
对于不同类型的食材混合，其操作类型也不同。
注意操作类型与食材类型的关系。

（15）“老抽、生抽翻炒至肉表面上色”。
注意：这里的“上色”实质上暗含了一种混合。
就是“老抽”“生抽”渗入了肉表面。、

（16）常见的混合产物：
“撇去浮沫”，这里的浮沫不是食材。而是中途产生的混合产物。
混合是一种加工。混合产物，用加工产物来表述更恰当。

（17）“加盖”。这里的“盖”是一种密封容器的行为。
在容器操作中，容器本身的状态有封闭与否这个属性。

（18）“火烧开，撇去浮沫后加盖烧至上汽，转小火炖煮20分钟。”
食材或者食材混合物的被动变化，往往指示了某个步骤的加工时间。
加工时间的另一表述方式就是直接用时间”20分钟“。
“开”在烧后面，是一种食材混合物的状态，不过暗含了必须有液态部分。

（19）“高压锅内没压力时”，用容器状态的变化，标识前面有操作了，只是这个操作省略了。
因为高压锅自然放置就会变到没有压力。
高压锅在加热完成后，密封容器的状态会变得含有压力。这个压力状态与密封状态之间本身有依赖关系。

(20) "剩余的50克冰糖”
“剩余的”表明了同一批次食材（通常是同类型食材）在不同地方被使用。
因为不同地方的食材被加工的时间也往往不同。

这里涉及了食材的量，食材的分组。
冰糖本身不是一个整体，不需要通过加工来分割。
但是，要分组使用。

分割和分组。分割发生在同一个步骤内部，分组发生在不同步骤之间。
分组基于分割。只有已经被分割的食材才能被分组。

（21）分离的结果要注意，有两种：
第一种是形状分离。就是分离后各个子部分性质一样。
第一种是食用分离。分离后各个部分的性质不同。最大的部分是不可食用部分从整体中分离出来。
“刮净肉皮上的猪毛和污垢”。----“净”后面往往接不能食用的部分被分离。
“五花肉切成麻将块，洗净冷水下锅”-----这里的“冷水”不是非食用部分，实际上不属于被操作的食材。
所以，这里的冷水是与后面的“下锅”配合，属于食材混合。

(22) "飞水”。一些操作，本身有复杂的含义。
这些含义需要进行解析。
人工配置与自动化推理相结合。

（23）“蒜子拍裂待用”。“待用”有一个作用，表明对这个食材的操作暂告一段落，另外，暗示后面还要被使用到。
这个对于提示当前的操作中，有哪些食材被涉及了很重要。

(24)“坐锅起油”
这里的描述以前没有出现过，但是，我们依然可以推断就是将食材油加入到容器锅中。
用已知要素推断整体要素。部分要素是：油，锅。
整体要素是：将油加入到锅中的操作。

(25)食材状态变化：
食材混合物中某类食材因为加工而变少。变少时可以有具体的数量描述。
“汤汁收到一半的时候”。

（26）“小火慢炖”
“小火”和“慢”几乎是冗余的。

（27）“待用”通常位于中间步骤。
“即可”通常位于最后步骤，类似的，“就好啦”。
“起锅即可”
“焖烧八分钟，入味即可”这里是中间步骤，不过这个“即可”是用来补充说明前面的“八分钟”的。
通过“即可”可以推断，它是最后的“盛出”步骤。
这个是一个特殊的操作步骤。因为位于末尾嘛

（28）“大火收汁”
食材状态的某种变化标识一个步骤的结束点。

（29）“煮透”
这里嘛，是标识一个步骤结束。“透”不仅标识食材状态，也本身必须与“煮”这个动作关联。
“透”容易与“烂”这样的词语关联起来。

（30）“少油将香料倒入炒出糖色”这里的“少”是描述食材的量，而不是食材的状态。
如果是“冷油”则是暗含加工的状态，既然是加工的状态，对于食材就是变化了。表明油还没有烧热就开始下一个步骤了。
变化是从一种状态变为另一种状态。加工前，油是冷的，加工后，油还是冷的。表面看前后状态相同，也就是没有变化。
但是，正是用这种相同表明加工的时间。

“少油”对于油来说是描述“油”的量。
但是，对于食材混合物来说，“油”的量却是一种属性。
【这里的“少油”是属性，是加工前的状态，不是加工后的状态。】

哈哈，其实“热锅冷油”是专有名词。怎么推断一个词语是不是专有名词。这个要随时引起注意。
-----
热锅冷油法，就是将锅（或勺）擦净，放入适量油烧热，然后将热油在锅内涮一下倒出，再放入适量温油或冷油，立即投入原料，干煸炒或滑油的一种作法。要用热锅冷油法烹制菜肴的原因在于肉类原料本身就含有丰富的蛋白质，且已用蛋清、淀粉浆过。原料投入温油中，遇热后有瞬间的缓冲，烹制者可利用这一瞬间，迅速将原料煸散或滑散，原料表面的蛋白质会逐渐变热，便于舒展伸开，使其受热充分，并且均匀，松散爽脆，质嫩不绵，成菜形色漂亮。另外，锅底热量高，油脂温冷，原料放入油内后，随着油温的不断增高能产生一股推力，可使原料迅速上浮，起到不粘锅、防止原料破碎的作用。
-----

【怎么检测知识性，往往有因果分析。词汇也不是生活化的。】

(31)
“泡发”暗示了所加工对象的属性。这里的“发”，通常是针对原本比较干的食材。“发”意味着体积会变大。
适用于“海带”，“木耳”等。
【加工后的状态与食材加工前的状态之间有约束。“发”描述的是一种状态变化，因为就对状态变化前后的属性都做了假定。】
【推导的逐步递进：先识别这里的“发”是描述状态变化。然后再去推断这个状态描述的是哪个属性。其实，这里包含了是一个属性，就是含水量。】

(32)
"冰糖已经融合，开始冒大的糖泡"
产生一些新的产物，而且有形状，有动作。
动作：“冒”
形状：“泡”
物质：“糖”

通过新的物质形态的产生来说明加工状态。

（33）区分操作步骤和检验步骤：
“用筷子蘸一点，等待一会再把筷子打开，能拉成糖丝”
a. 这里的“能”，表明了是检验步骤，而不是操作步骤。
b. 操作的对象只有“一点”

“能轻松扎透”
“能”是一种检验，检验都表明了食材的状态。

（34）区分目标和现实状态
“如果嫌太浓稠，可以适量加一些热水”
这里的“嫌”表明了是目标。是“希望不要”的意思。

“至自己喜欢的浓度”
这里的“喜欢”也是表希望，但是这里的“喜欢的”就不是希望了，而是已经实现了。因为中心语是浓度而不是喜欢。
这里是表示目标的实现，而不是目标本身。


（35）“放入五花腩肉，肉皮朝上”
放置位置

“将五花肉块整齐码放在上面，肉皮朝下”
码放，也提示了位置。

食材之间的相对位置关系。

（36）tips的基本格式：
炒糖色是制作毛氏红烧肉的一大关键，糖色出来的好不好直接决定了红烧肉的成品色泽，这是再好的红烧酱油所无法替代的。

【关键步骤】
质量因素1：色泽    好   无法替代
原料选择：红烧酱油无法替代
表示选择：好不好
因果关系：关键，决定

2. 模板检索顺序：
（1）可以不按在文段中的出现顺序，而按模板要素的字符串字典排序。
在扫描文本时，在一定窗口内，将文段中的词语按字典序排序。

字典序不一定满足最快的筛选要求。可以用一个词典为按元素的出现频次为每个元素指定顺序。保证低频的词语排在前面，这样保证最快的筛选。

（2）每个模板都有上下文校验。这个校验一定要放到最后一个节点不，显然不用。

3. 压缩检索空间：
（1）确定当前的topic类型，根据topic类型来选择检索空间。
将topic类型作为索引的节点。一旦进入这个节点，后面的检索空间就不同了。

这个topic可以是通过扫描文本得出的，也可以是根据外部目标给定的。

如果某个概念类型是某个模板的子元素，则可以将该概念类型作为一个目标topic。在识别其父模板时，可以向系统提出实现该子元素的目标。

（2） 文段分割。
优先检索分割模板。将文段分割为多个部分后，在每个部分中分别进行检索。
可以大大降低检索空间。

(3) 不同模板之间的节点共享：
现在的模式中，只有当两个模板前面的部分是相同的时候，才会共享节点。
但是，如果相同部分是出现在后面部分时，怎么共享节点呢。

可以加后向检测，当到达某一个节点时，检测前文中是否有出现过某概念，这个作为一类特殊的子节点。
这样，不仅可以共享前面的部分，也可以共享后面的部分。


3. 一些规则：
（1）铁和锅
通过直接匹配组成“铁锅”，厨具，而“锅”也是厨具，这表明“锅”是中心词。
而“锅”作为容器时，则可以与“里”组合。
那么“铁锅里”能不能以锅为中心进行组合呢。
不过，我们要确认“容器”和“厨具”之间存在密切关系。

【一些根据语料生成新的模板的简单方法---------“铁锅里”，现有的模板无法将其解析出来。但是我们可以根据约束，生成一个新的模板来匹配类似的情形。】
增加一系列中心词规则。根据这个中心词规则，可以生成一些新的模板。为什么要生成新的模板呢，而不是每次都用中心词规则去做事后推导呢，显然，这是提高效率。另外，其实也是将经验程序化。因为这个模板不仅包含了中心词规则，还包含了过去的经验计数，这个经验计数起着利用历史数据进行消岐的一个功能在里面。
对于一个文段的中心词，就是话题。是一个文段贯穿的线索。
在一个文段的不同级别的子文段里面，其中心词往往也是不同的。

翻炒---------“翻”修饰炒。因为“炒”本来就是要翻的。
焖煮---------煮的时候可以焖，也可以不焖，中心词在“煮”
油会慢慢炒出来----------通常是[加工工艺][渗出][渗出物]，但这里却是另外一种排序。对现有模板进行调序，产生新的模板。
红糖慢火熬化-----------通常是“熔化”或者“溶化”或者“融化”，大家都有一个“化”字，能够自动总结这个规律不。这是另外一种模板生成的方式。对要素进行拆分，“熔化”或者“溶化”或者“融化”可以再拆成单字。然后选择里面的单字进行新的模板组合。

新的模板组合要满足约束条件。这个是剪枝的必要。
这个约束条件是概念层面的约束。也就是说，在概念层面的约束保持不变，但是在描述层面，对原有模板元素进行分拆重组成新的模板。


（2）没过肉一指的凉水
表示方位关系，容器关系。

(3)往锅里加入
这里的“往”同“向”，表示对象。但是，与“把”，“将”有区别。
所接的动词会有约束。、

(4)换水--->换一次水
收好汁

(5)[味道属性词]
属性词的用法规律。

(6)注：不泡的话会氧化变黑。
有时间多泡一会，没有时间少泡一会。
用糖浆比直接用糖味好色亮。

(7)加盐调味
"调味“是表目的的动作。

(8)具体约束：
新词语引入约束：每个词语必须有其引入理由。有哪些引入理由呢。这个有点像篇章里面的新信息和旧信息。引入新信息时，应该与旧信息之间存在关联。旧信息通常是话题。

“将虾剪去虾须，留头、尾，去皮，从背部剖开，腹部相连，去除沙线，洗净，平放在盘中或案板上，撒上盐，料酒腌制5分钟。”
【 怎么识别“沙线”是虾的一部分。】
首先，要引入“新词语引入约束”，“纱线”作为一个新词语，位于“去除”后面。应该引入位置推导规则。
根据这个位置推导规则，可以识别其为不可食用食材。
再根据不可食用食材引入规则，可以识别其为虾的一部分，这个可以通过与前面的“头”，“尾”，“皮”，“背部”，“腹部”都是虾的一部分加以验证。
不过前面这些部分与“虾”之间不存在绑定关系，而“沙线”则存在绑定关系。
虾部位<->沙线
虾部位<->虾+头  不存在绑定关系，则表明需要外部要素来补充概念内涵。

(9)模板推导的一个问题是，如果只是将文段解析成一棵树，这不足以表达树上要素之间的约束。
这种不完备性使得这个模板匹配系统的功用不能得到充分发挥。
现在，模板要求要素相邻，这个限制了模板的适用范围。
但是，如果不要求相邻，则搜索空间会变得巨大，消岐也会十分困难。

引入概念层面的约束。而这些约束很多不一定每一个都触发。

(10)我们会界定一些通用的约束，如数量约束，时间约束，篇章表述约束,语法功能词约束等。
然后，对于新出现的词语等，会用这些已知的约束去进行定义。
这些定义要进行输出，要人能够看懂。人在这些定义的基础上，为新出现的词语添加新的约束。

(11)依赖关系的选择：一个食材列表后的状态词，是修饰哪个食材，还是整个列表。（列表内部的食材选择是平行选择，食材列表和单个食材之间的选择是嵌套选择。）   【本来期望这个歧义在前面会保存下来供后面消歧。但是，前面的匹配过程可能过度剪枝。后面可以主动提出这个消歧过程。】
入黄豆瓣酱炒溶
“溶”的作用要做猜测。然后扫描整个语料库，对猜测进行验证。


留头，去皮
这里的“头”，“皮”是食材部位。

“从背部剖开，腹部相连，去除沙线”
并列关系是一个很重要的提出假设的发动机。


(12)以往的自然语言处理模式往往是有一个外在目的，而不是要求解析自然语言本身的语义功能。
这往往对文段进行了过度剪裁，而没有深入去解析语言内部的复杂模式。

其实，研究语法的人做的更好，他们更多地去适应语言，而不是让语言适应我们简单的模型，我们可以拿过来。

(13)现在的模板中，对于两个相邻元素，只要类型吻合，就可以向上归结。
但是，除了类型吻合之外，从消岐的角度来讲，还应该推导出更多的约束。

(14)可删除性：
a. “将五花肉切成3*3cm的棋子块”
这里的“棋子”删除后，则可以完美识别。

4. （1）注意：语言是有目标的。目标，及功能是核心。在进行语法推导时要抓住这个核心。
这个核心并不是自明的，这个带有外部规定性。
我们要对这种外部规定性进行建模。
（2）要分析语法功能词的功能，因为他们对语义施加的约束十分普遍，像时间、数量、说话人态度、存现关系，这些约束十分常见，不局限于特定领域。
这些约束我们可以系统化。但是，对于具体功能词语，在这些约束上的表现，则要机器自己去推导。
为每个领域，我们也可以建立约束框架。重要的是，这些约束框架与普遍存在的语法框架如何很好地整合。

5.
常见副词用法中"归纳"语法约束条件【为什么说“归纳”，是因为虽然副词用法各不相同，但是分析的角度就是那么几个，只是每个副词在每个角度上的功能不能。需要将这几个角度用计算机语言描述出来，可执行。】：
（1）讨论对象的集合范围。其实，一个句子中包含多个元素，每个元素都有作者所默认的取值集合范围。
副词往往会对于其取值范围进行指示。
“咱们都不要客气。”-------“都”作为集合指示词。对于“咱们”这个集合，其取值范围有多种，“全集”就是都。
“柜子里都是书。”---------这里面的集合是柜子里所有的东西，柜子里可以放很多东西，而这些东西却都是书。这里的都总括“柜子里”的东西。

“都”对于前面的主语，被说明的对象是总括关系。对于宾语，则暗含选择关系。“客气”和“不要客气”可以选择。“书”和“可以放柜子里的其他东西”可以选择。

都会与疑问词“什么”，“哪”：
你家里都有什么人？
张老师，您都教哪几门课？
这里只能隐约感觉到一些总括的味道。可以省略。当然，省略后，语气就变得生硬一些。
【语气生硬与否是外部规定的约束，很难直接从文本中总结出来。太难啦，太难了，太难了！！！】
【外部规定的约束，我们教给电脑。】

6. 篇章约束条件：
已知信息和未知信息
情境是已经信息：“这件衣服你喜欢吗？”

话题-说明
话题一定是已知信息，而说明通常是新信息。
【要区分话题和主语。主语是句子结构层面的现象，而话题主要属于篇章层面的现象。】

焦点是新信息的核心，


7. 约束条件：
(1)召回与筛选：
召回的基本表达式 A->C，A则"在当前条件下"C肯定成立,False(A,!C)。
筛选的基本表达式 C->!B，B则"在当前条件下"C肯定不成立,Flase(B,C)。

召回表达式的运行前提，A已存在。
筛选表达式的运行前提，B,C已存在。通常筛选表达式运行在召回表达式将C召回之后。
筛选表达式中的!B写成否定形式，是因为B可检索，而!B不可检索。因此，其前提条件是可以检索的B,C。

对于约束条件，C->Z，如果Z可以检索，则走召回。如果Z不可以检索，而!Z可以检索，则走筛选。

另外一个问题，这里的C或者!B是否足够重要，值得召回吗？
这个不是这里要讨论的问题了。

[最低泛化原则。如果能够通过最低的泛化形式与周围的元素联结成更大的整块，则采取最低的泛化形式。
显然，最低泛化具有最大的信息量。比如语言模型，是最低的泛化形式。但是，问题是，语言模型无法与周围联结成更大的整块。
信息量是可以用概率来量化的，香农的熵计算。
中文分词中的逆向最大匹配，就是采取最低的泛化形式联结成更大的整块的实例，但是不彻底。]
[这里可以借用隐马尔科夫模型。最低泛化意味着发射概率高，联成更大的块则意味着转化概率高。在隐马模型中，类别是固定的，是没有层级的，但是我们的模型中，类别是开放的，是有层级的。]
[另外，隐马模型中是没有非相邻约束的，我们要引入非相邻约束，这个概率更难计算。]


[隐马模型有一个优点，就是可以进行无监督训练。
对于组合模板，我们可以看成是转化概率。这个转化概率的计算是无监督的，意味着我们完全可以借此发现新的模板。
人工模板与机器学习所得的模板如何整合呢？
应该这么说：人工模板会具有较高的初始概率。在训练过程中，那些较高概率的模板会被挑选出来经人工确认。
]

8. 几个事情：
（1）通过对现有模板进行挖一法，调序法,非相邻等进行泛化，扩展出新的模板。
对新模板与原始模板的相似性进行比较，并总结计算相似性的经验规则。

【为了避免过度泛化，只考虑将泛化模板用在已有模板无法解析的情形上。这样进行剪枝，相对于将泛化模板优先级放低了。
这个是一个比较可取的做法。】

另外一个思路是：泛化模板应该作为一个假设提出来，要接受各种约束条件的考验。
不过，假设也不能太多，触发一个泛化模板成为假设的依据是什么呢？
高频也可以作为一个依据。

（2）在进行调序法泛化时，可能会引入大量的新模板。可以进行无序匹配。这个可以试验一下五一期间的一个想法。
【无序匹配的高效运行在于匹配范围的界定。不同的无序模板要求的匹配范围不同。
将不同范围的模板放在不同的匹配范围中，会增加匹配效率吧。】

（3）泛化一些非相邻的约束。
考虑约束与模板之间的关系。哪些约束与当前所推导出来的匹配模板是相容的，哪些是不相容的。
筛选更容易推导出不相容，但是，如果出现不相容，则需要界定哪个约束（模板）具有更高的优先级。

现在的模板归约中，其实只要模板内部的元素满足类型或者字形约束，就可以向上归结。
但是，事实上，每个模板还应该有更多的约束条件。

而这些约束条件通常并不需要相邻。这些约束条件可以不必都以筛选条件出现，也可以召回形式出现。

信息引入约束。要么是语法功能词语，能够与上下文的语法功能一致。
如果引入新的实体信息，要么是默认实体信息，否则需要给出与当前话题的相关性。

（4）优先级判定。相容性判定。
必须先有相容性判定，然后才有优先级判定。
相容性判定的基本规则：其一，否定模板。筛选规则。其二，具有取值范围的属性值。一个属性上只能有一个取值。取值之间的排他性可以由值的性质决定。值的性质经常是常见的那些类型。

相容性的另一种情况可能是：如果是A实体为C类型的话，可能就不应该有B属性。如果在文段解析中，A实体应该具有B属性，则不应该取为C类型。这样一种相容性冲突很可能是一种常见情形，应该特别处理。

可以做一些属性值的推导工作。如时间运算，数量运算等。


(5) “收一下汤汁”，“汤汁收干到一半的时候”
怎么样才会将这样的内容归结到一起。首先，是因为它们目前不可解析。所以要收集。归结其中的无序模式“收”“汤汁”。

怎么分析下面的“之后”，从而明了他与“然后”，“接着”是相似的。怎么提出那个假设。
“之后再倒入炒锅收汁水。”

9. 先做非相邻约束，提高准确率。先准确，再召回，是一个基本思路。
那么，在做非相邻约束时，要不要考虑相容性判定呢。相容性可以看成是一种约束。

哈哈，这么说的话，约束的类型太多了，复杂性会很高，高到无法处理呢？
先做哪些种类的约束呢？

(1) [状态]-->凉(9,10)(<凉>)
 [加工步骤]-->凉锅中(9,12)(<[加工工艺][厨具]>)
“凉”在什么时候表示状态，在什么时候表示操作呢。
“凉”如果是目标状态时，在操作没有显式表述的时候，可以视为加工工艺。
但是，如果“凉”是默认状态，或者是其操作已经显式描述，“凉”只是作为结果来描述时，则应该视为状态。


(2)这里的“将”破坏了并列关系：
焯好的五花肉，将葱，姜片，冰糖，老抽，盐，八角，桂皮，香叶放入
用盐、胡椒粉、挤一点柠檬汁腌味片刻
这里的动词“挤”并不破坏并列关系，因为其从属地位，但是“将”是与后面的“放入”平级的，在更高层。

并列关系中的层级约束。

(3) 步骤之间的关系：
“最后起锅前撒点蒜苗，给芋头红烧肉增色增香。”
上面两个句子之间的关系是操作+目的。
"增色增香"这样的描述，本身就含有目的性。因为这个描述的不是操作，而是事物状态的变化。
因为这里的目的被实现了，所以本身也可以看成是因果关系。

(4) [状态]-->味片(47,49)(<[食材属性词][状态]>)
食材属性词和后接的状态词之间存在依赖关系的。

(5)一个体量描述中的细分维度：
6cm长、4cm宽、0.8cm厚
这个细分维度是概念层面的，不是描述层面的。如果要把它放到模板中，可能会有各种各样的模板。
当然，可以做一个无序模板。

(6)信息相关性：这个是推导当前未被识别实体的重要理论根据。

(7) 再将鱼块拍上干面粉
"鱼块"和“干面粉”这样两种食材在一起时，通常是列表，或者是混合分离操作。
将这句话作为约束加进去，这样的约束该怎么表达，还有什么样的类似约束。

(8)"再将鱼块拍上干面粉，裹上一层鸡蛋液，然后小火煎至熟"
【食材位置关系，是一种很重要的关系，要专门建模，比如这里的“一层”。】
食材-容器  位置相对关系
里面-------放入容器
    铺容器里面
表面--------包裹【一种特殊的表面情形】
上下
左右
混合----浸泡【液体】----搅拌（隐含混合）
包含       肉中杂质和血水


边搅拌边挤入一些柠檬汁
【步骤之间的时序关系也要深入建模】
要为每种关系指定一个目标概念。

(9)
[加工步骤]-->烧一个锅(8,12)(<[加工工艺][体量]>)
[连续步骤]-->烧一个锅，将奶油倒入(8,18)(<[加工步骤][步骤连接词][加工步骤]>)
[体量]-->一个锅(9,12)(<[数量]锅>)

"[体量]"是需要找到其描述的物体的，这里的“一个锅”所描述的体量是指什么食材呢，不是“奶油”，因为有“将”起分离作用。
用容器本身来指体量。就像用南瓜的颜色来指颜色。如“南瓜色”。“一锅水”。
用实体本身来指代实体属性时，必须指出属性词，如“南瓜色”中的“色”。-----但是“一锅（容量/大小）的水”中的“容量”却可以省略，因为说“一锅水”时同时体现了容器本身，因为事实上用锅子在盛水。-----或者将后者理解为习惯表达。
但是，要记住的是，无论是“南瓜色”还是“一锅水”，如果没有被修饰部分“色”或者“水”，则“南瓜”和“锅”都表示其本来的实体含义。一旦修饰别的实体后，其本来的含义就消失了，只取它所具备的属性值了。
用户实体名指代实体属性，可以看成一种隐含关系。将动作结果暗含动作，也是如此。--------------这种有暗含关系的推导，必须借助概念模板。

咸度适中
属性值属性化，[属性值]度-->[属性名]--------------数量化的属性值。
-------->哈哈，不过会说“咸度”，“浓度”，却不会说“淡度”。

这里的“适中”是一个[数量水平]，可以看成程度形容词。

[加工步骤]-->腌好的(9,12)(<[加工工艺][状态]>)
---这里的“好”是食材状态，强调动作的结果。
如果是“腌完”，这里的“完”是加工状态，强调动作完成。

将雪菜攥干水分
【“水分”一类特殊的食材，也是食材组成部分，那种分散式的组成成分，不同于部位。】
对于这样一种食材的约束描述，应该怎么体现。


待汤汁差不多时
【这里有省略。“差不多”是“收得差不多时”】
如：“汁差不多干”“汤汁收差不多干”
等汤汁收得差不多了
汤汁差不多收干
汤汁已经收得差不多了
汤汁收的差不多
--------------上面的情况说明，对于省略，只要把有类似上下文的文段集中起来，就可以看出省略了什么。

水高于米的高度能够没过食指的第一个指肚就可以啦
浸泡米的等待时间中
["等待"是什么，等待某个状态到来。如果是持续动作，其实是暗含等待动作的结束。这里的“浸泡”就是持续动作。
而等待也是持续动作。持续动作有时间段属性。有时间段属性的动作，可以用“时间中”或者“时间里”来表征这个时间段里面的任意时间点或任意时间段或者整个时间段。】


西兰花、胡萝卜、香菇、黄花菜洗净，下开水锅断生，切片备用；
下开水锅断生
[这里的“下”的对象是承接前面的主语，而不是开水。这种特例真的很麻烦。食材和加工工艺之间的约束，开水不能别切片。
在连续步骤中，加工对象具有一致性。]
【这样的问题触发在于，食材需要被使用，特别在同一个步骤中。加工工艺的操作对象到底是谁，要提问。】

吸收
黄油加入，揉至吸收
牛肉把水都吸收
丁液能正好被土司吸收
【这里有概念约束，被吸收的通常是液体或者气体。】

“吸收”虽然是非主动行为，因而不是加工工艺。但是，也是动词，具有动词的属性。
吸收与渗出物之间的关系满足动词与宾语的关系。
满足动词与宾语关系的模板，在进行模板扩充和约束检查方面，都有自己的特点。这些特点可以通用。

10. 概念层面的约束：
（1）将粉浆倒入垫了保鲜膜并刷了油的盘中,上笼蒸十分钟。
这里“上笼”的对象不仅包含食材，还包含盘子。因为盘子是可以放入锅中的。哈哈，通常笼子也是在锅中。
实际上啊，这里的“上笼”已经抽象化了。不见得真有笼子。
（2）“凉拌”里面的“凉”是本来就是凉的。
熟后待凉取出.-----------这里的“凉”却是要从热变凉。因为前面的蒸就暗含食材已经热了。
(3) 上一步是“粉浆”，蒸后取出，变成了“粘糕”。
(4) 指代约束：
压扁后擀成长条形的薄片.再将豆沙捏成长条形放在薄片上，
----用“薄片”这个形状属性来指代食材本身。在特定上下文中，这个指代是明确的。
【以属性值指称实体本身。】
(5)一个实体有多个属性，那么是不是所有的属性都需要召回呢。其实，存在一个上下文激发的问题。
也就是说，一个实体在特定的上下文中，其某个特定的属性才被召回。
一个实体因为有多个属性，因此，它不能用一个概念来描述，而要用多个概念来描述。这多个概念，可能对应多个属性。在特定上下文中，某个概念被召回，并不代表别的概念被否定。但是，在同一个属性上的取值，因为
(6) 切掉下面的根部
"根部"是位于“下面的”。
(7) 主面团除猪油外
"除...外”这样的搭配，用非相邻约束来匹配更合适。因为其中间部分太泛化了。
(8)元模板：
[程度副词]修饰[状态]，总体仍是[状态]。
其修饰[数量水平],因为[数量水平]是[状态]，自然整体仍是状态。但是，如果元模板认为，可以沿袭被修饰词的属性，则总体可以认为仍是[数量水平]。
(9)完全可以将“调味”看成步骤。
虽然，有时候表示前一个步骤的目的。
但是，这种步骤之间的关系，应该放在更大视野范围内的模板来处理。
(10)消岐，包含越多原始字符串，也就是包含更多较低抽象层级的模板，优先级越高。
(11)修饰的错位：
至少泡2个小时          ------“至少”修饰的是数词，却放在动词前面。
（12）     打发至写8字不消失
(13) 这样鸡蛋会更嫩
“这样”暗含因果。
“会”是表示可能的结果。
(14)注意下面的“一片片的”
[加工步骤]-->烧8成热将豆腐一片片的(13,24)(<[加工工艺][状态]>)
[连续步骤]-->烧8成热将豆腐一片片的放入(13,26)(<[加工工艺][加工步骤]>)
[食材状态]-->8成热将豆腐一片片(14,23)(<[食材][状态]>)
[数量]-->8(14,15)(<[数字]>)
[数字]-->8(14,15)(<[阿拉伯数字]>)
[连续步骤]-->8成热将豆腐一片片的放入(14,26)(<[加工步骤][加工工艺]>)
[加工步骤]-->8成热将豆腐一片片的放入(14,26)(<[状态][加工工艺]>)
(15)分析里面的时态问题：
“因为微波炉是要蒸发水分的”
话题是“微波炉”，分析这个话题事物的潜在表现。
"是....的”结构指示了话题中心在“是”的前面。
(16) 我是头一天晚上腌的
【“我”是对比焦点，可以视为次级话题。】
"我是...的","是...的”表示话题。
(17) 因为鸡肉里还会出很多油   --------这里的“会”也表示能够，也表示将来时态。
"因为"，“还”
因为切了花刀    [因为已经发生的事情]
因为五花肉可以炖出油的啦
[因为事物的性质]---------已经具备某某性质，不必多此一举，多此一举会带来不好效果。
（因为豆干已经有咸味了）        【因为事物的状态]
因为调味汁中有淀粉             [因为事物的性质】
不要糖心（因为容易乱淌）          【有可能导致不良后果的动作发生】
因为蘑菇里面可能会有很多小虫子            【存在有潜在危害的因素】
因为茄子加盐拌过之后会出水滴的          
因为沸水放入鸡蛋不扎孔会爆开
因为鸡皮在炸的时候也会出很多油
因为在烧烤的时候，很容易会烧焦的
因为大麦黑米比较硬
持低油温，因为我们是炸水果~         【存在选择关系，如果是其他背景，则选择其他操作】
，因为玉米面很容易结小疙瘩

几种主观操作的原因类型（目的）：
a. 不做可以避免操作的成本
b. 做可以带来收益    与b3同义
b1. 做可以使收益消失   与b2同义
b2. 不做可以得到收益
b3. 不做会得不到收益
c. 做可以避免损害  与c2同义
c1. 做可能带来损害   与c3同义
c2. 不做会出现损害
c3. 不做会避免损害

f. 不做可以出现收益
g. 不做可以避免损害

(18) 牛奶不够可以加点清水
这里的“不够”是缺乏的意思。
(19)序数和基数的问题：
“在进行二次饧发”，这里的“二次”是序数，而不是基数。
（20）中间要留有空隙  -----------相对位置。       [位置][混合分离状态]
(21)
目的：【目的与原因。
a. 从概念层面讲。目的是主观操作的主观原因。还有客观原因。原因本身也是可以分解的。但是，原因还可以是客观动作或者状态（变化）的原因。
b.
从描述层面讲，目的侧重于收益或者避免损害。而在描述原因时，可能不直接描述收益或者损害，而是描述导致这些收益或者损害的因果链条。
表现如下：主观操作--原因->目的
(主观操作往往通过原因与目的才能打通关系。说得含混点，可以将目的本身视为操作的原因,视为主观原因。但是，如果有客观原因，使得主观目的（原因）和操作之间能更好打通，这时候最好将目的看成是目的，而不是原因了。)
这种含混化有意思。对外可以代表整体，表示成多种属性，但是，对内，当多种属性都显示描述时，就要区分了。
比如，一锅水，“锅”既表示容器，也表示容器的量，但是，如果具体描述锅的容量时，这时候容量就具体的容量数值来说明了。
】
c.再从概念层面讲。目的往往侧重于主观操作的效果，是结果。而原因是对操作对象和操作之间的互动关系，描述的是达到某种效果的可能性，而不是效果本身。
但是，其实往往两者讲的就是同一个事情，因此，从描述层面，两者可以相互转化(哈哈，对这种转换进行建模对于知识化解析和语法分析，都是有价值)：
保证蛋白是甜的（目的)-------------会使得蛋白不甜。


这样可以缩短炖煮时间
---------目的连词“这样可以”。目的与因果往往相关。------目的其实就是[意愿，希望]
"这样可以"与[希望]之间的细微差别在于，“这样可以”后面还需要“保证”这样的连接词。就是“促使”“促进”“保证发生”“使得”这样的使动词语。当然，有时候这些词语省略了。而“避免”是使动词语的反面，“使不发生”。

[希望]后面直接接状态。[目的]则需要说明[动作]与[状态]之间的关联。通常【状态变化】可以用来描述动作与状态之间的关联。

这样可以保证蛋白是甜的                希望蛋白是甜的
这样可以迅速冻上                      希望迅速冻上
这样可以避免面饼膨胀过度              希望面饼不要膨胀过度
这样可以防止蛋黄烫熟出现颗粒
样可以消除多余的气体
说这样可以逼出里面多余的油
可以用圆形的煎蛋圈来进行造型，这样可以很轻松的煎出圆圆的蛋饼        重心在于“圆圆的”“很轻松的”
我是一团放面包机，一团手工操作，这样可以同时开始发酵	      重心在“同时”，言下之意就是节省时间。这里讲的是后果。后果是陈述句式。

[目的]	[意愿]
[目的][使]	[希望]
[目的][避免]	[不希望]
这样可以	[目的]

上面是从语义上讲的，从语法结构上讲，[目的]是要承前的，因为只有行为才有目的。
而希望，本身不需要有行为。

“目的”本身通常会有什么样的结构呢。
前面讲了很多原因的结构。

越碎越好，如果颗粒太大切块时容易断裂

(22)准备摆盘
摆好盘的丸子

【两个“摆盘”之间的关联。“好”字可以插入到中间。】

(23)关于“有无”可以表属性：
缺乏蛋挞皮的酥脆   [在属性值上做布尔操作]
不缺乏嚼劲
体缺乏镁元素
缺乏弹性              【属性值可以数量化，可以衡量水平。】
由于缺乏材料         【缺乏实体元素】

一小把红腰豆（没有可以不加的哦）
没有煲粥功能           [缺乏的是抽象的实体元素]
到锅中没有水份，
较懒没有手切   【动作的布尔操作，没有执行某个动作】
煮了20分钟后的西米，没有米芯了就好了

不够热再继续 
觉得味道不够	【属性的数量化，实际上暗含属性值的数量化。而且，规定了属性值的量化方向。浓淡的方向是浓。】
如果蒸锅不够大   【量化方向是在句子中显示指出的，是“大”而不是“小”。】

(24)和...差不多
和平时煮饭水差不多

（25）
去淘洗一下
[这里的“去”表示趋势。]

(26)“做”表示“作为”
用草莓，威化卷，炼奶，做装饰

(27)至不见干粉

(28)宰杀动物要有专门的一类处理模板：
活生生的甲鱼一只。只见老爸用刀背一刀拍下去，它就晕晕的不动了。爸爸说先把它拍晕后再杀比较人道。

子模板树。这个好实现。第一步扫描，得出需要使用的模板类。
这样的非相邻约束可以通过多次扫描来实现。
正如无序模板可以通过多次扫描来实现一样。

(29)“的”字结构所起的嵌套作用，这里要考虑层次划分问题：
“将拌好的面撒入铺好篜布的锅中”
这里的“铺好蒸布”本来可以作为一个独立的步骤，但是却被一个“的”字，成为了修饰语。
【对于”铺“这个概念，本身也含有多个要素。里面任意一个要素都可以突出出来作为话题，作为某种语法成分。
"铺"这个动作也可以，比如，可以在下文可以这么说，"往锅中铺蒸布的时候要用力“，这里是将”铺“作为话题。
不过动作被抽取出来做话题的时候，其形式不是用“的”这种。】

根据不同的话题焦点，可以写成这样的句子：
"锅中铺好蒸布"--->"铺好蒸布的锅中”
“蒸布铺在锅中”--->"铺在锅中的蒸布”
-->"像往锅中铺蒸布一样，铺床单"(哈哈，一般不讲动作作为话题。)
或者“蒸布铺好在锅中”，“在锅中铺好蒸布”---------这里加“的”后，“在”不见了。因为“在”属于指示词，而“的”也属于指示词。
实际上，从这里可以看出，“在”是连接“铺”和“锅中”的。当“铺”被移到更下层时，“在”也就没必要存在了。

（30）动词和宾语之间的多样关系：
“揉成长条形分剂子”
这里的“分”和“剂子”是操作与操作结果的关系。与“揉”和“长条形”之间的关系相同。但是，却并没有加“成”这个趋势词，因为没有歧义。

(31)剂子粘上油团圆
[加工步骤]-->粘上油团(14,18)(<[加工工艺][食材][状态]>)
这里的“团”不是“黏上”的结果，而是新起一个步骤。
步骤之间的关系要用一些非相邻约束去推断。

(32)分组指示词就是代词，可以有食材的语法功能，但是没有食材本身的语义。
剩下的就和包饺子一样，包上白糖
[分组指示词]-->剩下的(9,12)(<[分组指示词]的>)
"包上“这样的一个概念，有被包物，有包裹物，这些属于描述中不可或缺的属性。为了填充这些必需属性，需要在上下文中找到相应的要素。

(33) 下油锅炸，不要下太多，它们的关系太好了
"它们"是指谁与谁呢，原来是不同的炸糕个体之间。而不是不同原料之间。
【自动提问：集合指示词，或者代词，要搞清楚指代关系。】

(34)重要因素不能出错，非重要因素可以出错：
“下油锅炸，不要下太多，它们的关系太好了，下的多了就会粘在一起，煎至两面金黄就可以了”
这里的“炸”和“煎”发生矛盾了。但是，“炸”更重要的位置，“煎至两面金黄”中，强调的是“两面金黄”。将这里的“煎”替换为“炸”也是完全说得通的。
当然，更重要的是结合上下文来消岐。上下文是“炸糕”。

(35)此时的米刚开花
"此时的米"
从时间轴上取截面。
时空截面。
截面的特点在于，所取的对象仍是一个整体。

当然，像“铺好蒸布的锅中”，这里所取的对象“锅中”也是一个整体，而不是一个属性。
按照这种逻辑，我们只需要将时间和空间都看做一个普通的属性就可以。

(36) 这里的泛化顺序真的令人纠结：
[连续步骤]-->然后再加入洗过(10,17)(<[加工步骤][加工工艺]>)
[加工步骤]-->然后再加入洗过(10,17)(<[步骤前导词][加工工艺]>)
[食材]-->然后再加入洗过的腐竹(10,20)(<[加工步骤]的[食材]>)

“[步骤连接词]”不应该作为“[食材]”的修饰部分。
【当一个概念作为另外一个模板的子部分时，要施加约束。哈哈，带约束的模板怎么写。】
“[步骤连接词]”是描述层面的，连接步骤之间，不应该作为修饰部分。

这里的问题在于剪枝：“加工步骤”最大前向匹配，导致一直扩张到“然后”，实际上，“腐竹”的修饰语只到“洗过的”。

(37) 盐比平时的要少些，

(38) 草鱼洗净、沥水后搁盐、生姜、大蒜子、干辣椒
碗里倒入料酒、淀粉、抓匀腌制
252346  1       准备食材。（草鱼洗净、沥水后搁盐、生姜、大蒜子、干辣椒）
252346  2       碗里倒入料酒、淀粉、抓匀腌制。
252346  4       冷锅、小火炒香花椒。
252346  5       倒入食油。
252346  6       中火、放入鱼头煎至2面金黄。
252346  3       酸菜洗净、切段；大蒜子拍散，干辣椒若干

[局部一致性：在一个菜谱里面，紧接着的两个句子都出现了顿号错误。
在我们的选择空间中，一旦出现了某种与常理不一致的选项，那么这种不一致选项在邻域空间出现的概率也会加大。]

(39)本来只需要用到【与食材相关的物理材料】这个属性：现在却不得不把“食材”这整个概念拿过来：
入大料，尖椒，葱，蒜出香味
[食材]-->香味(40,42)(<[渗出物]>)

 [渗出][渗出物]  [渗出材料]
 [渗出][食材]    [渗出材料
以前把[渗出物]归类到食材，使得上面的两条可以合并为一条。但是，这样会把一些不是食材的东西归类到食材。


（40）歧义啊：
（适量）
[食材]-->加入适量的香菜(9,16)(<[加工工艺][状态]的[食材]>)
[放入食材]-->加入适量的香菜(9,16)(<[放入][食材]>)
[加工步骤]-->加入适量的香菜。(9,17)(<[加工步骤][步骤结束词]>)

(41) 造型
为了突出蓝天效果，
挤出小圈
为了突出蓝天效果，蛋糕表面的奶油我加了蓝莓果味粉，四周的还是白色的，拿牙签在蛋糕中间画出两条线，这两条线就是彩虹的起止点
冷藏是为了让蛋糕卷的卷形状固定好

(42)动物性奶油安佳的比较好打发，
食材性质介绍，会与加工相关。

(43)多炖一会
多砍几刀
【这里的“多”，表面上看是修饰动词，实际上是修饰补语。如果将动词+补语看成一个整体概念，则“多”修饰这个整体概念。】

(44)作为：
后塞到花心的位置里作为花蕊
作为蛋糕夹馅用
撒些芹菜末或是香菜末作为装饰
放入少量萝卜作为配菜

(45)一些上下文强依赖的模式，不要用固定模板，而用临时推理更好：

5、塞上2颗巧克力豆作为眼睛，花生或瓜子仁作为嘴巴即可。
【这里的“眼睛”，“嘴巴”作为[造型形状]，是一个很上下文相关的。
其一，可以作为[造型形状]的东西实在太多，没法在固定模板中枚举。
其二，“眼睛”，“嘴巴”通常是不用于做[造型形状]的。
】

可以这么概括，这些词语充当某个属性，主要的不是这些个词语本身的属性，而是其所处的位置。

(46) 根据面图的干湿程度

(47)制作表面装饰：将装饰用的黑麦面粉

[加工步骤]-->表面装饰(11,15)(<[食材][加工步骤]>)
[加工状态]-->将装饰(16,19)(<[时间状态]>)
[加工步骤]-->将装饰(16,19)(<[时间指示词][加工步骤]>)

[加工步骤]-->准备所有制作材料(11,19)(<[加工步骤][食材]>)
[加工步骤]-->制作材料(15,19)(<[加工工艺][食材]>)

[动词表目的或者功能。“装饰用”，“制作材料”。]

同一个字符串“装饰”，既可以表述动作，也可以表述动作的结果。

11. 先专门处理并列约束：
（1）列表结果所起的语法功能通常与单个元素所起的语法功能类似。除了那种强调集合属性的例外。
列表与集合相关词汇之间的约束要特别处理。
(2)如何高效地扫描并列结构。或者说排列结构。 
(3)将一个菜谱作为一个整体输入，步骤之间有并列关系。
(4)分步扫描，第一遍扫描时，扫描出并列结构等。第二步对并列结构里面的每个组成部分分别进行扫描。
问题是：如果在后续扫描时，怎么识别前面扫描出的并列结构实际上并不成立，这会有哪些情况。这些情况再后面的例子中逐步进行人工归纳。
(5)不同的并列结构的交织。
(6)具有呼应关系的搭配，是识别并列结构的重要钥匙。这些搭配要由人工指定。
但是机器可以给出候选。
(7)层次划分：“，---.-----，----。”这里面，有两层，就是“.。”构成更高一层的分界线，而“，”构成较低一层的分界线。
高层的分界线数目上比低层分界线要少，这样，才使得高层的分界线内部可能含有多个低层分界线。而低层分界线内部则通常不会超过一个以上的分界线。

原料：草莓约200克（算上码边的和顶面装饰的一共500克），牛奶180克，淡奶油250克，白糖100克，吉利丁4.5片(16克)。
这里的“，”在更高的层级，而“克”以及括号，均在更低的层级。

(8)先做大的结构划分，再做非相邻约束和概念约束，这是一个明智的道路啊！！
与其说并列关系，不如说层级关系。

(9)不过大的结构划分本身就是一种非相邻约束啊。


